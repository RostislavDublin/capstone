diff --git a/app/database.py b/app/database.py
index aff1b6e..23aec76 100644
--- a/app/database.py
+++ b/app/database.py
@@ -56,6 +56,96 @@ def delete_user(user_id):
     # No error handling at all
 
 
+def execute_raw_query(query: str):
+    """Execute arbitrary SQL - security hole!"""
+    conn = get_connection()
+    cursor = conn.cursor()
+    cursor.execute(query)  # SQL injection vulnerability
+    conn.commit()
+    return cursor.fetchall()
+
+
+def process_user_action(user_id: int, action: str, data: dict):
+    """Complex function with deeply nested conditions - cyclomatic complexity 21+."""
+    conn = get_connection()
+    result = None
+    
+    if action == "update":
+        if "username" in data:
+            if len(data["username"]) > 3:
+                if len(data["username"]) < 50:
+                    if data["username"].isalnum():
+                        if not data["username"].startswith("admin"):
+                            if not data["username"].endswith("test"):
+                                cursor = conn.cursor()
+                                # More SQL injection
+                                cursor.execute(f"UPDATE users SET username='{data['username']}' WHERE id={user_id}")
+                                result = {"success": True}
+                            else:
+                                result = {"error": "Test accounts not allowed"}
+                        else:
+                            result = {"error": "Reserved name"}
+                    else:
+                        result = {"error": "Invalid chars"}
+                else:
+                    result = {"error": "Too long"}
+            else:
+                result = {"error": "Too short"}
+        elif "email" in data:
+            if "@" in data["email"]:
+                if len(data["email"]) > 5:
+                    if "." in data["email"].split("@")[1]:
+                        if not data["email"].endswith(".tmp"):
+                            cursor = conn.cursor()
+                            cursor.execute(f"UPDATE users SET email='{data['email']}' WHERE id={user_id}")
+                            result = {"success": True}
+                        else:
+                            result = {"error": "Temporary emails not allowed"}
+                    else:
+                        result = {"error": "Invalid domain"}
+                else:
+                    result = {"error": "Email too short"}
+            else:
+                result = {"error": "Invalid email"}
+        elif "password" in data:
+            if len(data["password"]) > 8:
+                if any(c.isupper() for c in data["password"]):
+                    if any(c.isdigit() for c in data["password"]):
+                        cursor = conn.cursor()
+                        cursor.execute(f"UPDATE users SET password='{data['password']}' WHERE id={user_id}")
+                        result = {"success": True}
+                    else:
+                        result = {"error": "Password needs digit"}
+                else:
+                    result = {"error": "Password needs uppercase"}
+            else:
+                result = {"error": "Password too short"}
+        else:
+            result = {"error": "No field to update"}
+    elif action == "delete":
+        if user_id > 0:
+            if user_id != 1:
+                cursor = conn.cursor()
+                cursor.execute(f"DELETE FROM users WHERE id={user_id}")
+                result = {"success": True}
+            else:
+                result = {"error": "Cannot delete admin"}
+        else:
+            result = {"error": "Invalid ID"}
+    elif action == "verify":
+        cursor = conn.cursor()
+        cursor.execute(f"SELECT * FROM users WHERE id={user_id}")
+        result = {"user": cursor.fetchone()}
+    else:
+        result = {"error": "Unknown action"}
+    
+    if result and "success" in result:
+        conn.commit()
+    
+    return result
+
+
+
 # ⚠️ HIGH: Function never called, but creates connection leak
 def init_db():
     conn = get_connection()
